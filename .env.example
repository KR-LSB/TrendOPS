# =============================================================================
# TrendOps Environment Configuration
# =============================================================================
# 이 파일을 복사하여 .env로 저장하고, 실제 값을 입력하세요.
# cp .env.example .env
#
# ⚠️ 주의: .env 파일은 절대 Git에 커밋하지 마세요!
# =============================================================================

# =============================================================================
# DATABASE SETTINGS
# =============================================================================

# Redis - Job Queue, Cache, Rate Limiting
# Docker: redis://redis:6379
# Local: redis://localhost:6379
REDIS_URL=redis://localhost:6379

# ChromaDB - Vector Store 영속화 경로
# 상대 경로 또는 절대 경로 모두 가능
CHROMADB_PATH=./data/chromadb

# ChromaDB Collection 이름
CHROMADB_COLLECTION_NAME=trend_documents

# PostgreSQL (Week 3+ 분석 결과 영속화)
# Docker: postgresql://trendops:password@postgres:5432/trendops
POSTGRES_URL=postgresql://trendops:trendops@localhost:5432/trendops

# =============================================================================
# MODEL SETTINGS
# =============================================================================

# vLLM Server Endpoint (GPU 전용)
# Docker Compose: http://vllm:8000
# Local: http://localhost:8001
VLLM_URL=http://localhost:8001

# vLLM Model Name (AWQ 양자화 모델 권장)
VLLM_MODEL=qwen2.5:7b

# LLM 응답 설정
VLLM_MAX_TOKENS=1024
VLLM_TEMPERATURE=0.3

# Embedding Model (CPU 전용)
# 한국어 특화 모델 사용
EMBEDDING_MODEL_NAME=upskyy/bge-m3-korean

# Embedding 배치 크기 (CPU 모드에서는 크게 설정)
EMBEDDING_BATCH_SIZE=64

# Embedding 최대 시퀀스 길이
EMBEDDING_MAX_SEQ_LENGTH=512

# =============================================================================
# HARDWARE SETTINGS (⚠️ Blueprint 하드웨어 제약 준수)
# =============================================================================

# CPU 스레드 수 (Embedding, 전처리용)
# Ryzen 9 9900X: 12코어 24스레드 → Embedding에 8 할당 권장
CPU_THREADS=8

# GPU 메모리 사용률 (vLLM 전용, 단독 점유이므로 높게 설정)
# RTX 5070 Ti 16GB → 0.90 권장 (14GB vLLM + 2GB 시스템)
GPU_MEMORY_UTILIZATION=0.90

# =============================================================================
# COLLECTOR SETTINGS
# =============================================================================

# RSS 요청 타임아웃 (초)
RSS_TIMEOUT_SECONDS=30

# 키워드당 최대 수집 기사 수
RSS_MAX_RESULTS=20

# RSS 요청 간 딜레이 (Rate Limit 보호)
RSS_RATE_LIMIT_DELAY=0.5

# =============================================================================
# TRIGGER SETTINGS
# =============================================================================

# Job Queue에 추가할 최소 트렌드 점수 (0-10)
TREND_MIN_SCORE=7.0

# 한 번에 처리할 최대 트렌드 키워드 수
TREND_MAX_KEYWORDS=10

# =============================================================================
# ANALYST SETTINGS (Week 2)
# =============================================================================

# LLM 분석 시 사용할 컨텍스트 문서 수
ANALYST_CONTEXT_WINDOW=10

# RAG 검색 최소 유사도 임계값 (0-1)
ANALYST_SIMILARITY_THRESHOLD=0.7

# =============================================================================
# API KEYS (Week 5+에서 사용)
# =============================================================================

# Instagram Graph API (Development Mode에서는 본인 계정만 테스트 가능)
INSTAGRAM_ACCESS_TOKEN=
INSTAGRAM_BUSINESS_ACCOUNT_ID=

# Google API Key (선택적)
GOOGLE_API_KEY=

# =============================================================================
# MONITORING SETTINGS
# =============================================================================

# Slack Webhook URL (장애 알림용)
# https://hooks.slack.com/services/XXXXX/XXXXX/XXXXX
SLACK_WEBHOOK_URL=

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================

# 실행 환경: development | staging | production
ENV=development

# 로깅 레벨: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# 로그 파일 디렉토리
LOG_DIR=./logs